steps:
  init:
    type: "GlobFileStep"
    params:
      - "/data/data_scratch/lichess_data/rust_conversions_v3/2014-01/*.bin"
      - "parallel_step"
  print_results:
    type: LabelledPrintStep
    params:
      - "Number of games"
      - "count_games"
      - "stdout"
  print_results:
    type: LabelledPrintStep
    params:
      - "Number of games"
      - "count_games"
      - "stdout"
  parallel_step:
    type: ParallelStep
    params:
      - "load_files"
      - "parse_games"
      - "count_games"
      # - "monitor"
  load_files:
    type: Bz2DecompressStep
  parse_games:
    type: ParseBinGame
  count_games:
    type: CountVecStep
    params:
      - "print_results"
      - "parsed_games"
      - "count_games"
      - "true"
      - "done_parsing_games"
  monitor:
    type: MonitorStep
  noop:
    type: NoopStep